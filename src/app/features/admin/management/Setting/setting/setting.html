<div class="p-6 bg-slate-50 min-h-screen rtl">
  <div class="max-w-6xl mx-auto">
    <!-- add table -->
    <div class="bg-white rounded-3xl shadow-sm border border-slate-200 overflow-y-auto">
      <p-table [value]="settingFacade.settings()" [tableStyle]="{ minWidth: '50rem' }">
        <ng-template pTemplate="caption">
          <div class="flex justify-content-end">
            <p-button label="Add Setting" icon="pi pi-plus" (onClick)="openAddDialog()" />
          </div>
        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th>Key</th>
            <th>Value</th>
            <th>Actions</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-setting>
          <tr>
            <td>{{ setting.key }}</td>
            <td>{{ setting.value }}</td>
            <td>
              <p-button icon="pi pi-pencil" (onClick)="openEditDialog(setting)" />
              <!-- <p-button icon="pi pi-trash" (onClick)="confirmDelete(setting.id)" /> -->
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>

<!-- add dialog -->
<p-dialog header="{{ isEditMode() ? 'Edit Setting' : 'Add Setting' }}" [(visible)]="displayDialog">
  <div class="flex flex-col gap-4">
    <div class="grid grid-cols-2 gap-4">
      <label for="key">Key</label>
      <input
        [disabled]="isEditMode()"
        id="key"
        type="text"
        placeholder="Enter Key"
        pInputText
        [(ngModel)]="settingForm.key"
      />
    </div>
    <div class="grid grid-cols-2 gap-4">
      <label for="value">Value</label>
      <input
        id="value"
        type="text"
        placeholder="Enter Value"
        pInputText
        [(ngModel)]="settingForm.value"
      />
    </div>
  </div>
  <div class="flex justify-end gap-2 mt-4 border-t pt-4">
    <p-button
      label="Cancel"
      icon="pi pi-times"
      (onClick)="displayDialog.set(false)"
      styleClass="p-button-text"
    />
    <p-button label="Save" icon="pi pi-check" (onClick)="save()" />
  </div>
</p-dialog>
